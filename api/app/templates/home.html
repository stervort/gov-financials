{% extends "base.html" %}
{% block content %}

<div class="card">
  <h2>Select Client + Binder</h2>

  <form action="/binder/open" method="post">
    <div class="row">
      <div class="col">
        <label><b>Client</b></label><br>
        <select name="client_id" required style="width:100%;">
          <option value="" selected>(select)</option>
          {% for c in clients %}
            <option value="{{ c.id }}">{{ c.client_name }}</option>
          {% endfor %}
        </select>
      </div>
      <div class="col">
        <label><b>Period end date</b></label><br>
        <input type="date" name="period_end" required style="width:100%;">
      </div>
    </div>

    <br>
    <button class="btn btn-primary" type="submit">Open Binder</button>
  </form>
</div>

<div class="card">
  <h2>Create Client</h2>
  <form action="/client/create" method="post">
    <input type="text" name="client_name" placeholder="e.g., City of Springfield" style="width:100%;" required>
    <br><br>
    <button class="btn btn-primary" type="submit">Create Client</button>
  </form>
</div>

<div class="card">
  <h2>Recent Binders</h2>
  <table>
    <thead>
      <tr>
        <th>Client</th>
        <th>Period End</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {% for b in recent_binders %}
      <tr>
        <td>{{ b.client.client_name }}</td>
        <td>{{ b.period_end }}</td>
        <td><a class="btn" href="/b/{{ b.id }}">Open</a></td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>

{% endblock %}
